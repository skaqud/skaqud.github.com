---
layout: post
title: 코드로 인프라 관리하기 리뷰
date: 2017-06-19 20:16:00
tags:
- Tech
- Review
---

한빛출판사의 코드로 인프라 관리하기 라는 책의 리뷰(저자 키프 모리스)

많은 도구, 기술, 플랫폼 들이 나오긴 하지만, 특정한 기술이나 플랫폼에 관한 책은 아님. 왜 서버 인프라를 코드로 관리해야 하고, 생성하고 테스트하는 부분을 자동화 해야 하는지,실제로 인프라 팀의 시각에서 실행할 수 있는 방법을 제시하고 있음.

책 자체에서 저자가 경험한 내용을 바탕으로 설명하고 있는 듯한 느낌이 들고, 내용에 대한 설명도 쉽게 이해할 수 있는 방식으로 진행하고 있음.

## 소감 및 의견

### 서론부분

새로운 업데이트가 나오면, 모든 시스템에 업데이트를 설치해야 했고, 어떤 서버에는 성공적으로 적용했지만, 다른 서버에서는 충돌을 일으켰고, 이를 해결하기 위해 많은 시간을 보내야 했다. 팀의 서버들은 모두 너무 달랐고, 팀은 무인 방식을 신뢰하지 않았다.

코드로 인프라를 관리하기 위한 핵심 개념 - 모든 서버는 처음부터 다시 생성할 수 있으며, 구성도구는 지속적으로 동작한다.

### cp1. 문제와 원칙

코드로서의 인프라 - SW개발 관례에 기반을 둔 인프라 자동화 방법으로 시스템과 구성을 프로비저닝하고 변경하기 위한 일관되고 반복 가능한 절차에 중점을 둔다.

*동적 인프라의 문제점*

- 서버 폭증 - 서버가 늘어날 수록 관리가 힘들어지고, 구성이 달라질 가능성이 생김
- 구성 편차 - 서버를 일관되게 구성했더라도 시간이 갈 수록 점점 차이가 생길 수 있다. 구성이 다르다고 나쁜 것은 아니나, 변경된 부분이 재생성 될 수 있도록 관리해야 한다. -> 관리되지 않는 변경은 눈송이 서버(snowflake)와 자동화 공포를 일으킨다.
- 눈송이 서버 - 다른 서버들과 다른, 다시 만들수 없는 서버. 담당자 변경, 매뉴얼 없는 수작업이 반복되면 결국 이렇게 된다.
- 자동화 공포 - 자동화 공포의 악순환(자동화 도구를 사용하지 않고 구성을 변경 -> 서버 일관성X -> 자동화 도구 실행시 오류에 대한 두려움 ->순환)을 끊어야 한다. 무인 방식으로 운영해야 함.
- 침식 - 새로운 요구가 없으면 인프라는 시간이 갈 수록 노후된다.(업그레이드,패치,로그파일 등)

*코드로서의 인프라의 원칙*

- 시스템은 쉽게 다시 만들 수 있다.
- 시스템은 일회용이다.
- 시스템은 일관성이 있다.
- 절차는 반복 가능하다.
- 설계는 항상 변한다.
